import{_ as D}from"./index.c89ce3c3.js";import{_ as L,u as N}from"./useRequestDateProduction.2f79ae68.js";import{a as k,r as g,o as d,c as q,w as i,b as v,e as x,F,f as c,h as a,u as E,t as y,i as M,j as G,k as P,l as R,m as T}from"./entry.00504a0c.js";import"./_plugin-vue_export-helper.a1a6add7.js";function S(){return{queryCocltailsListByName:async n=>await $fetch(`/api/cocktails?name=${n}`),queryCocltailDetailByID:async n=>await $fetch(`/api/cocktail?id=${n}`),getCocktailImagePreview:n=>`${n}/preview`,queryCocltailsListByFilter:async(n,o)=>await $fetch(`/api/cocktails?${n}=${o}`),queryFiltersList:async n=>await $fetch(`/api/filters?name=${n}`),queryIngredientDetail:async n=>await $fetch(`/api/ingredients?name=${n}`),getIngredientImage:n=>"https://www.thecocktaildb.com/images/ingredients/"+n+"-Medium.png"}}const A={style:{"text-align":"center"}},V=c("br",null,null,-1),z=k({__name:"Ingredients",props:{ingredients:null},setup(f){const{getIngredientImage:t}=S();return(l,s)=>{const e=L,r=g("el-col"),u=g("el-row");return d(),q(u,{gutter:20},{default:i(()=>[(d(!0),v(F,null,x(f.ingredients,n=>(d(),q(r,{span:6,xs:8,md:6,lg:6,key:n.name},{default:i(()=>{var o;return[c("div",null,[a(e,{src:E(t)((o=n==null?void 0:n.name)==null?void 0:o.toLocaleLowerCase())},null,8,["src"])]),c("div",A,[c("strong",null,y(n==null?void 0:n.name),1),V,c("small",null,y(n==null?void 0:n.measure),1)])]}),_:2},1024))),128))]),_:1})}}});function H(){return{handleCocktailIngredients:t=>{const l=[],s=[];for(const e in t)if(t[e]){const r=/^strIngredient/.test(e),u=/^strMeasure/.test(e);r&&l.push(t[e]),u&&s.push(t[e])}return l.map((e,r)=>({name:e,measure:s[r]}))}}}const b={key:0},J={key:1},K={style:{"font-size":"1.3rem","margin-top":"0"}},Y=k({__name:"[id]",setup(f){var B;const t=M(),l=(B=t==null?void 0:t.params)==null?void 0:B.id,s=G(!0),e=P({name:"",img:"",imgSource:"",alcoholic:"",instructions:"",category:"",glass:"",ingredients:[]}),{queryCocltailDetailByIDProduction:r}=N(),{handleCocktailIngredients:u}=H();R(()=>{n()});const n=async()=>{var _,m;{const p=(m=(_=await r(l))==null?void 0:_.drinks)==null?void 0:m[0];o(p)}},o=_=>{const{strDrink:m,strDrinkThumb:p,strImageSource:h,strAlcoholic:I,strCategory:C,strGlass:w,strInstructions:$}=_;s.value=!1,e.name=m,e.img=p,e.imgSource=h,e.alcoholic=I,e.instructions=$,e.category=C,e.glass=w,e.ingredients=u(_),console.log(e)};return(_,m)=>{const p=D,h=g("el-image"),I=g("el-col"),C=z,w=g("el-row"),$=g("el-main");return d(),q($,{class:"my-page-detail"},{default:i(()=>[s.value?(d(),v("div",b,y(s.value?"loading...":""),1)):(d(),v("div",J,[a(p,null,{default:i(()=>[T(y(e==null?void 0:e.name),1)]),_:1}),a(w,{gutter:20,justify:"center",align:"top"},{default:i(()=>[a(I,{span:20,md:8},{default:i(()=>[c("div",null,[a(h,{src:e==null?void 0:e.img,alt:e==null?void 0:e.name},null,8,["src","alt"])])]),_:1}),a(I,{span:24,md:14},{default:i(()=>[c("p",K,y(e==null?void 0:e.instructions),1),a(C,{ingredients:e==null?void 0:e.ingredients},null,8,["ingredients"])]),_:1})]),_:1})]))]),_:1})}}});export{Y as default};
